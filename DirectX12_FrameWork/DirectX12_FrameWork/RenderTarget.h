/*****************************************************************//**
 * \file   RenderTarget.h
 * \brief  レンダーターゲットクラス(MRT用)
 * 
 * \author Hiroto Kuge
 * \date   October 2022
 *********************************************************************/

//-----------------------------------------------------------------------------
// Includes.
//-----------------------------------------------------------------------------
#include <cstdint>
#include <d3d12.h>


//-----------------------------------------------------------------------------
// Forward Declarations.
//-----------------------------------------------------------------------------
class ColorTarget;
class DepthTarget;
class DescriptorPool;
class DescriptorHandle;



class RenderTarget{
	//-----------------------------------------------------------------------------
	// list of friends classes and methods.
	//-----------------------------------------------------------------------------	
	//!{
			/* Nothing */
	//!} 
public:
	//-----------------------------------------------------------------------------
	// PoolType enum
	//-----------------------------------------------------------------------------
	enum POOL_TYPE {
		POOL_TYPE_RES = 0,     // CBV / SRV / UAV
		POOL_TYPE_SMP = 1,     // Sampler
		POOL_TYPE_RTV = 2,     // RTV
		POOL_TYPE_DSV = 3,     // DSV
		POOL_COUNT = 4,
	};

	//-----------------------------------------------------------------------------
	// public variables.
	//-----------------------------------------------------------------------------
	//!{
			/* Nothing*/
	//!} 
	//-----------------------------------------------------------------------------
	// public methods.
	//-----------------------------------------------------------------------------
	//!{
	//!} 
private:
	//-----------------------------------------------------------------------------
	// private variables.
	//-----------------------------------------------------------------------------
	//!{
	//!}
	//-----------------------------------------------------------------------------
	// private methods.
	//----------------------------------------------------------------------------- 
	//!{
	
	ColorTarget* m_pColorTarget;
	DepthTarget* m_pDepthTarget;
	DescriptorPool* m_pPool[POOL_COUNT];
	uint32_t m_width;
	uint32_t m_height;
	
	//!} 
};
